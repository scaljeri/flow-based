<article *ngIf="active" xxlMovableArea #dragArea [ngClass]="'active-socket-' + activeSocket">
  <xxl-connection-lines
    [connections]="flow.connections"
    (lineClick)="removeConnection($event)"></xxl-connection-lines>

  <!--<button *ngIf="active && !root" (click)="close($event)" class="close"></button>-->

  <ng-container *ngFor="let state of flow.children; index as i">
    <xxl-flow-unit
               class="block"
               xxlMovable
               [(position)]="state.position"
               (dragStart)="onDragStart($event, state)"
               (positionChange)="updateConnections($event, state)"
               (dragEnd)="onDragEnd($event. state)"
               [active]="activeFlowIndex === i"
               [component]="flowUnitTypes[state.type]"
               [state]="state"
               (noDrag)="entryClicked(i)">
    </xxl-flow-unit>
  </ng-container>
</article>
