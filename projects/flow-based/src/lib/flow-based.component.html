<article *ngIf="flow" xxlMovableArea>
  <ng-container *ngFor="let flow of flow.units; let i = index">
    <xxl-flow-based *ngIf="isFlow(flow)"
      xxlMovable
      [style.left.px]="flow.x"
      [style.top.px]="flow.y"
      [flow]="flow"
      [active]="isActive(i)"
      (click)="entryClicked(i)">
    </xxl-flow-based>

    <xxl-block
      *ngIf="!isFlow(flow)"
      class="block"
      xxlMovable
      [active]="isActive(i)"
      [style.left.px]="flow.x"
      [style.top.px]="flow.y"
      (click)="entryClicked(i)">
      <ng-container [ngComponentOutlet]="flowTypes[flow.type]"
                    [ngComponentOutletInjector]="injectors[0]"></ng-container>
    </xxl-block>
  </ng-container>
</article>

<!--<article *ngIf="!isFlow() && flow?.units.length > 0">-->
<!--<xxl-block *ngIf="flow && flow.units.length === 1" class="block">-->
<!--<ng-container [ngComponentOutlet]="flowTypes[flow.units[0].type]"-->
<!--[ngComponentOutletInjector]="injectors[0]"></ng-container>-->
<!--</xxl-block>-->
<!--</article>-->

<!--<article #area *ngIf="flow" class="is-max" xxlMovableArea>-->
<!--<xxl-block xxlMovable *ngFor="let block of flow; let i = index"-->
<!--[style.left.px]="block.config.x" [style.top.px]="block.config.y" class="block">-->
<!--<ng-container *ngIf="flowTypes[block.type]"-->
<!--[ngComponentOutlet]="flowTypes[block.type]"-->
<!--[ngComponentOutletInjector]="injector[i]"></ng-container>-->
<!--</xxl-block>-->
<!--</article>-->

<!--

// Set title and maybe more
<xxl-flow-config></xxl-flow-config>

-->
