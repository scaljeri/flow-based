<article *ngIf="active" xxlMovableArea #dragArea>
  <xxl-connection-lines
    [connections]="flow.connections"
    [pointerMoved]="pointerMove"
    [from]="activeSocketFrom"
    [to]="activeSocketTo"
    (lineClick)="removeConnection($event)"></xxl-connection-lines>

  <ng-container *ngFor="let state of flow.children; index as i">
    <xxl-flow-unit
               class="block"
               xxlMovable
               [(position)]="state.position"
               (updated)="reset()"
               (dragStart)="onDragStart($event, state)"
               (dragEnd)="onDragEnd($event, state)"
               [active]="activeFlowIndex === i"
               [state]="state"
               (noDrag)="entryClicked(i)">
    </xxl-flow-unit>
  </ng-container>
</article>
